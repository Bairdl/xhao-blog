---
date: '2025-10-08T00:13:24+08:00'
draft: false
title: 'SLG游戏地图'
---

# SLG 游戏地图

地图，又称为大地图、沙盘，是SLG游戏的核心玩法，主要承担了探索、扩张、资源争夺、联盟战争的核心体验。  

## 地图核心功能

- 网格化地图
- 玩家主城显示
- 资源点/野怪
- 资源采集（移动与探索）
- PVP 攻击

## 地图数据存储

通常只会存储有意义的数据，如：有野怪或者资源点的格子，被玩家占领的格子，玩家的主城格式，各种类型的建筑所放置格子等等。

通常使用二维数组表示地图，每个格子都对应一个结构体，结构体中存储格子的信息。

## 地图逻辑

地图逻辑通常划分为两部分，地图逻辑和部队逻辑（行军逻辑）。

地图逻辑：
- 初始化地图（资源点、野怪的生成等）
- 查询地图格子
- 对地图格子做相关操作（资源采集添加倒计时，删除采集完成的资源点等等）
- 更新格子状态

部队逻辑：
- 部队出发：校验起点、终点、距离
- 计算行军时间
- 到达后触发事件
- 更新部队状态


