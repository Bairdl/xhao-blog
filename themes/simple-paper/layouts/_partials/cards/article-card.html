{{/* 
  参数：
  .article - 文章对象（必需）
  .showSummary - 是否显示摘要（可选，默认true）
*/}}

{{ $article := .article }}
{{ $showSummary := .showSummary | default true }}

<div class="article-card">
  {{/* 图片部分（可选） */}}
  {{/* <img class="article-card-image" src="{{ $article.Params.image }}"> */}}
  
  <div class="article-card-content">
    <h3 class="article-card-title">
      <a href="{{ $article.RelPermalink }}" class="article-card-title-link">{{ $article.LinkTitle }}</a>
    </h3>
    
    {{ if and $showSummary $article.Summary }}
      {{ if gt (len $article.Summary) 50 }}
        <div class="article-card-summary-container">
          <p class="article-card-summary">
            {{ $summary := $article.Summary | truncate 50 "..." }}
            {{ $summary | replaceRE "<h[1-6][^>]*>.*?</h[1-6]>" "" | safeHTML }}
          </p>
          <a href="{{ $article.Permalink }}" class="article-card-read-more">阅读更多</a>
        </div>
      {{ else }}
        <p class="article-card-summary">
          {{ $article.Summary | replaceRE "<h[1-6][^>]*>.*?</h[1-6]>" "" | safeHTML }}
        </p>
      {{ end }}
    {{ end }}
  </div>
  
  <div class="article-card-footer">
    <div class="article-card-date">
      <time>{{ $article.Date.Format site.Params.zh.dateFormat }}</time>
    </div>
  </div>
</div>